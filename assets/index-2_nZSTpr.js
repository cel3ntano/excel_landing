(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const q=(e={})=>{const n=new Date(e.targetDate||"May 10, 2025 19:30:00").getTime(),r={days:"00",hours:"00",minutes:"00",seconds:"00"},o=(c,d)=>{d!==r[c]&&(r[c]=d,document.querySelectorAll(`.timer-digits.${c}`).forEach(m=>{m.textContent!==d&&(m.textContent=d)}))},i=()=>{const c=new Date().getTime(),d=n-c;if(d<=0){o("days","00"),o("hours","00"),o("minutes","00"),o("seconds","00"),clearInterval(s);return}const m=Math.floor(d/(1e3*60*60*24)).toString().padStart(2,"0"),S=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)).toString().padStart(2,"0"),b=Math.floor(d%(1e3*60*60)/(1e3*60)).toString().padStart(2,"0"),v=Math.floor(d%(1e3*60)/1e3).toString().padStart(2,"0");o("days",m),o("hours",S),o("minutes",b),o("seconds",v)};i();const s=setInterval(i,1e3);return()=>clearInterval(s)},u={nameRequired:"Введіть ваше ім'я",emailInvalid:"Введіть коректний E-mail",phoneInvalid:"Введіть коректний номер телефону",termsRequired:"Необхідно погодитися з умовами"},g={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,phone:/^\+380\s\d{2}\s\d{2}\s\d{2}\s\d{3}$/},M=e=>{e&&(e.querySelectorAll(".error-message").forEach(n=>{n.textContent=""}),e.querySelectorAll(".form-field").forEach(n=>{n.classList.remove("error")}))},f=(e,n,r)=>{const o=e.querySelector(n);o&&(o.textContent=r);const i=o==null?void 0:o.closest(".form-field");i&&i.classList.add("error")},I=e=>{if(!e)return!1;let n=!0;M(e);const r=e.querySelector("#name"),o=e.querySelector("#email"),i=e.querySelector("#phone"),s=e.querySelector("#terms");return r&&!r.value.trim()&&(f(e,"#name-error",u.nameRequired),r.parentElement.classList.add("error"),n=!1),o&&(!o.value.trim()||!g.email.test(o.value.trim()))&&(f(e,"#email-error",u.emailInvalid),o.parentElement.classList.add("error"),n=!1),i&&(!i.value.trim()||!g.phone.test(i.value.trim()))&&(f(e,"#phone-error",u.phoneInvalid),i.parentElement.classList.add("error"),n=!1),s&&!s.checked&&(f(e,"#terms-error",u.termsRequired),s.parentElement.parentElement.classList.add("error"),n=!1),n},L=e=>{e&&e.addEventListener("input",n=>{let r=n.target.value.replace(/\D/g,"");r.startsWith("380")&&(r=r.substring(3)),r=r.substring(0,9);let o="+380";r.length>0&&(o+=" "+r.substring(0,2)),r.length>2&&(o+=" "+r.substring(2,4)),r.length>4&&(o+=" "+r.substring(4,6)),r.length>6&&(o+=" "+r.substring(6,9)),n.target.value=o})},w="https://example.com",P={REGISTRATION:`${w}/register`},B=async e=>{e.preventDefault();const n=e.target;if(I(n)){const r=new FormData(n);try{(await fetch(P.REGISTRATION,{method:"POST",body:r})).ok?(alert("Реєстрація успішна!"),n.reset()):alert("Виникла помилка при реєстрації. Спробуйте пізніше.")}catch(o){console.error("Помилка:",o),alert("Реєстрація успішна!"),n.reset()}}},y=e=>{const n=e.target,r=n.closest(".form-field");if(r){r.classList.remove("error");const o=`${n.id}-error`,i=document.getElementById(o);i&&(i.textContent="")}},h=e=>{if(!e)return;const n=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(n,e),e=n,e.addEventListener("submit",B);const r=e.querySelector("#phone");return r&&L(r),e.querySelectorAll("input").forEach(i=>{i.addEventListener("input",y),i.type==="checkbox"&&i.addEventListener("change",y)}),e},a={modal:"#registration-modal",signUpButton:".sign-up-button",closeModal:".close-modal",formContainer:".form-container",mobileCard:".mobile-card",modalContent:".modal-body",registrationForm:"#registration-form",formHeading:".form-heading",timerContainer:".timer-container"},t={form:null,formParent:null,heading:null,headingParent:null,timer:null,timerParent:null,modalContent:null,signUpButton:null},l={isMobile:window.innerWidth<768,isModalOpen:!1},C=()=>window.innerWidth<768,O=(e,n,r)=>!e||!n?null:(e.nextElementSibling===r||(r?n.insertBefore(e,r):n.appendChild(e)),e),E=()=>{var o,i,s;const e=document.querySelector(a.formContainer),n=document.querySelector(a.mobileCard),r=document.querySelector(a.modal);t.modalContent=r==null?void 0:r.querySelector(a.modalContent),t.signUpButton=n==null?void 0:n.querySelector(a.signUpButton),t.form||(t.form=document.querySelector(a.registrationForm),t.formParent=(o=t.form)==null?void 0:o.parentElement,t.heading=(e==null?void 0:e.querySelector(a.formHeading))||(n==null?void 0:n.querySelector(a.formHeading)),t.headingParent=(i=t.heading)==null?void 0:i.parentElement,t.timer=(e==null?void 0:e.querySelector(a.timerContainer))||(n==null?void 0:n.querySelector(a.timerContainer)),t.timerParent=(s=t.timer)==null?void 0:s.parentElement)},x=()=>{if(!l.isMobile)return;const e=document.querySelector(a.mobileCard);!e||!t.timer||!t.signUpButton||O(t.timer,e,t.signUpButton)},F=()=>{if(t.modalContent){if(t.heading&&!t.modalContent.contains(t.heading)&&(t.headingParent=t.heading.parentElement,t.modalContent.appendChild(t.heading)),t.timer&&!t.modalContent.contains(t.timer))if(t.timerParent=t.timer.parentElement,t.heading&&t.modalContent.contains(t.heading)){const e=t.heading.nextElementSibling;e?t.modalContent.insertBefore(t.timer,e):t.modalContent.appendChild(t.timer)}else t.modalContent.firstChild?t.modalContent.insertBefore(t.timer,t.modalContent.firstChild):t.modalContent.appendChild(t.timer);t.form&&!t.modalContent.contains(t.form)&&(t.formParent=t.form.parentElement,t.form.parentElement&&t.form.parentElement.removeChild(t.form),t.modalContent.appendChild(t.form),t.form=h(t.form))}},p=()=>{if(E(),l.isMobile)if(l.isModalOpen)F();else{const e=document.querySelector(a.mobileCard);e&&(t.timer&&!e.contains(t.timer)&&e.appendChild(t.timer),x())}else{const e=document.querySelector(a.formContainer);if(e){if(t.heading&&!e.contains(t.heading)&&(t.heading.parentElement&&t.heading.parentElement.removeChild(t.heading),e.insertBefore(t.heading,e.firstChild)),t.timer&&!e.contains(t.timer))if(t.timer.parentElement&&t.timer.parentElement.removeChild(t.timer),t.heading&&e.contains(t.heading)){const n=t.heading.nextElementSibling;n?e.insertBefore(t.timer,n):e.appendChild(t.timer)}else e.appendChild(t.timer);if(t.form&&!e.contains(t.form)){t.form.parentElement&&t.form.parentElement.removeChild(t.form);const n=e.querySelector(a.registrationForm);n&&e.removeChild(n),e.appendChild(t.form),t.form=h(t.form)}}}},D=()=>{const e=document.querySelector(a.modal),n=document.querySelector(a.signUpButton),r=e==null?void 0:e.querySelector(a.closeModal);if(!e)return;l.isMobile=C(),E(),p(),n&&n.addEventListener("click",()=>{l.isModalOpen=!0,p(),e.style.display="block",document.body.style.overflow="hidden"});const o=()=>{e.style.display="none",document.body.style.overflow="auto",l.isModalOpen=!1,p()};r&&r.addEventListener("click",o),window.addEventListener("click",i=>{i.target===e&&o()}),window.addEventListener("resize",()=>{const i=l.isMobile;l.isMobile=C(),i!==l.isMobile&&(!l.isMobile&&l.isModalOpen&&(e.style.display="none",document.body.style.overflow="auto",l.isModalOpen=!1),p())})},R=()=>{D();const e=document.querySelector("#registration-form");e&&h(e),q({targetDate:"May 10, 2025 19:30:00"})};document.addEventListener("DOMContentLoaded",R);
