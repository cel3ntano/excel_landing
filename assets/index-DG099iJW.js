(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const initCountdown=(options={})=>{const targetDate=new Date(options.targetDate||"May 10, 2025 19:30:00").getTime(),updateDigits=(type,value)=>{value!==eval(type)&&(eval(`${type} = value`),document.querySelectorAll(`.timer-digits.${type}`).forEach(e=>{e.textContent!==value&&(e.textContent=value)}))},updateTimer=()=>{const e=new Date().getTime(),t=targetDate-e;if(t<=0){updateDigits("days","00"),updateDigits("hours","00"),updateDigits("minutes","00"),updateDigits("seconds","00"),clearInterval(timerInterval);return}const n=Math.floor(t/(1e3*60*60*24)).toString().padStart(2,"0"),s=Math.floor(t%(1e3*60*60*24)/(1e3*60*60)).toString().padStart(2,"0"),r=Math.floor(t%(1e3*60*60)/(1e3*60)).toString().padStart(2,"0"),o=Math.floor(t%(1e3*60)/1e3).toString().padStart(2,"0");updateDigits("days",n),updateDigits("hours",s),updateDigits("minutes",r),updateDigits("seconds",o)};updateTimer();const timerInterval=setInterval(updateTimer,1e3);return()=>clearInterval(timerInterval)},errorMessages={nameRequired:"Введіть ваше ім'я",emailInvalid:"Введіть коректний E-mail",phoneInvalid:"Введіть коректний номер телефону",termsRequired:"Необхідно погодитися з умовами"},validationPatterns={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,phone:/^\+380\s\d{2}\s\d{2}\s\d{2}\s\d{3}$/},clearErrors=e=>{e&&(e.querySelectorAll(".error-message").forEach(t=>{t.textContent=""}),e.querySelectorAll(".form-field").forEach(t=>{t.classList.remove("error")}))},showError=(e,t,n)=>{const s=e.querySelector(t);s&&(s.textContent=n);const r=s==null?void 0:s.closest(".form-field");r&&r.classList.add("error")},validateForm=e=>{if(!e)return!1;let t=!0;clearErrors(e);const n=e.querySelector("#name"),s=e.querySelector("#email"),r=e.querySelector("#phone"),o=e.querySelector("#terms");return n&&!n.value.trim()&&(showError(e,"#name-error",errorMessages.nameRequired),n.parentElement.classList.add("error"),t=!1),s&&(!s.value.trim()||!validationPatterns.email.test(s.value.trim()))&&(showError(e,"#email-error",errorMessages.emailInvalid),s.parentElement.classList.add("error"),t=!1),r&&(!r.value.trim()||!validationPatterns.phone.test(r.value.trim()))&&(showError(e,"#phone-error",errorMessages.phoneInvalid),r.parentElement.classList.add("error"),t=!1),o&&!o.checked&&(showError(e,"#terms-error",errorMessages.termsRequired),o.parentElement.parentElement.classList.add("error"),t=!1),t},formatPhoneNumber=e=>{e&&e.addEventListener("input",t=>{let n=t.target.value.replace(/\D/g,"");n.startsWith("380")&&(n=n.substring(3)),n=n.substring(0,9);let s="+380";n.length>0&&(s+=" "+n.substring(0,2)),n.length>2&&(s+=" "+n.substring(2,4)),n.length>4&&(s+=" "+n.substring(4,6)),n.length>6&&(s+=" "+n.substring(6,9)),t.target.value=s})},API_BASE_URL="https://example.com",API_ENDPOINTS={REGISTRATION:`${API_BASE_URL}/register`},handleFormSubmit=async e=>{e.preventDefault();const t=e.target;if(validateForm(t)){const n=new FormData(t);try{(await fetch(API_ENDPOINTS.REGISTRATION,{method:"POST",body:n})).ok?(alert("Реєстрація успішна!"),t.reset()):alert("Виникла помилка при реєстрації. Спробуйте пізніше.")}catch(s){console.error("Помилка:",s),alert("Реєстрація успішна!"),t.reset()}}},handleFieldInput=e=>{const t=e.target,n=t.closest(".form-field");if(n){n.classList.remove("error");const s=`${t.id}-error`,r=document.getElementById(s);r&&(r.textContent="")}},setupForm=e=>{if(!e)return;const t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e),e=t,e.addEventListener("submit",handleFormSubmit);const n=e.querySelector("#phone");return n&&formatPhoneNumber(n),e.querySelectorAll("input").forEach(r=>{r.addEventListener("input",handleFieldInput),r.type==="checkbox"&&r.addEventListener("change",handleFieldInput)}),e},selectors={modal:"#registration-modal",signUpButton:".sign-up-button",closeModal:".close-modal",formContainer:".form-container",mobileCard:".mobile-card",modalContent:".modal-body",registrationForm:"#registration-form",formHeading:".form-heading",timerContainer:".timer-container"},elementRefs={form:null,formParent:null,heading:null,headingParent:null,timer:null,timerParent:null,modalContent:null,signUpButton:null},state={isMobile:window.innerWidth<768,isModalOpen:!1},isMobileViewport=()=>window.innerWidth<768,insertBefore=(e,t,n)=>!e||!t?null:(e.nextElementSibling===n||(n?t.insertBefore(e,n):t.appendChild(e)),e),initializeElementRefs=()=>{var s,r,o;const e=document.querySelector(selectors.formContainer),t=document.querySelector(selectors.mobileCard),n=document.querySelector(selectors.modal);elementRefs.modalContent=n==null?void 0:n.querySelector(selectors.modalContent),elementRefs.signUpButton=t==null?void 0:t.querySelector(selectors.signUpButton),elementRefs.form||(elementRefs.form=document.querySelector(selectors.registrationForm),elementRefs.formParent=(s=elementRefs.form)==null?void 0:s.parentElement,elementRefs.heading=(e==null?void 0:e.querySelector(selectors.formHeading))||(t==null?void 0:t.querySelector(selectors.formHeading)),elementRefs.headingParent=(r=elementRefs.heading)==null?void 0:r.parentElement,elementRefs.timer=(e==null?void 0:e.querySelector(selectors.timerContainer))||(t==null?void 0:t.querySelector(selectors.timerContainer)),elementRefs.timerParent=(o=elementRefs.timer)==null?void 0:o.parentElement)},positionElementsInMobileCard=()=>{if(!state.isMobile)return;const e=document.querySelector(selectors.mobileCard);!e||!elementRefs.timer||!elementRefs.signUpButton||insertBefore(elementRefs.timer,e,elementRefs.signUpButton)},positionElementsInModal=()=>{if(elementRefs.modalContent){if(elementRefs.heading&&!elementRefs.modalContent.contains(elementRefs.heading)&&(elementRefs.headingParent=elementRefs.heading.parentElement,elementRefs.modalContent.appendChild(elementRefs.heading)),elementRefs.timer&&!elementRefs.modalContent.contains(elementRefs.timer))if(elementRefs.timerParent=elementRefs.timer.parentElement,elementRefs.heading&&elementRefs.modalContent.contains(elementRefs.heading)){const e=elementRefs.heading.nextElementSibling;e?elementRefs.modalContent.insertBefore(elementRefs.timer,e):elementRefs.modalContent.appendChild(elementRefs.timer)}else elementRefs.modalContent.firstChild?elementRefs.modalContent.insertBefore(elementRefs.timer,elementRefs.modalContent.firstChild):elementRefs.modalContent.appendChild(elementRefs.timer);elementRefs.form&&!elementRefs.modalContent.contains(elementRefs.form)&&(elementRefs.formParent=elementRefs.form.parentElement,elementRefs.form.parentElement&&elementRefs.form.parentElement.removeChild(elementRefs.form),elementRefs.modalContent.appendChild(elementRefs.form),elementRefs.form=setupForm(elementRefs.form))}},positionElementsBasedOnState=()=>{if(initializeElementRefs(),state.isMobile)if(state.isModalOpen)positionElementsInModal();else{const e=document.querySelector(selectors.mobileCard);e&&(elementRefs.timer&&!e.contains(elementRefs.timer)&&e.appendChild(elementRefs.timer),positionElementsInMobileCard())}else{const e=document.querySelector(selectors.formContainer);if(e){if(elementRefs.heading&&!e.contains(elementRefs.heading)&&(elementRefs.heading.parentElement&&elementRefs.heading.parentElement.removeChild(elementRefs.heading),e.insertBefore(elementRefs.heading,e.firstChild)),elementRefs.timer&&!e.contains(elementRefs.timer))if(elementRefs.timer.parentElement&&elementRefs.timer.parentElement.removeChild(elementRefs.timer),elementRefs.heading&&e.contains(elementRefs.heading)){const t=elementRefs.heading.nextElementSibling;t?e.insertBefore(elementRefs.timer,t):e.appendChild(elementRefs.timer)}else e.appendChild(elementRefs.timer);if(elementRefs.form&&!e.contains(elementRefs.form)){elementRefs.form.parentElement&&elementRefs.form.parentElement.removeChild(elementRefs.form);const t=e.querySelector(selectors.registrationForm);t&&e.removeChild(t),e.appendChild(elementRefs.form),elementRefs.form=setupForm(elementRefs.form)}}}},setupModal=()=>{const e=document.querySelector(selectors.modal),t=document.querySelector(selectors.signUpButton),n=e==null?void 0:e.querySelector(selectors.closeModal);if(!e)return;state.isMobile=isMobileViewport(),initializeElementRefs(),positionElementsBasedOnState(),t&&t.addEventListener("click",()=>{state.isModalOpen=!0,positionElementsBasedOnState(),e.style.display="block",document.body.style.overflow="hidden"});const s=()=>{e.style.display="none",document.body.style.overflow="auto",state.isModalOpen=!1,positionElementsBasedOnState()};n&&n.addEventListener("click",s),window.addEventListener("click",r=>{r.target===e&&s()}),window.addEventListener("resize",()=>{const r=state.isMobile;state.isMobile=isMobileViewport(),r!==state.isMobile&&(!state.isMobile&&state.isModalOpen&&(e.style.display="none",document.body.style.overflow="auto",state.isModalOpen=!1),positionElementsBasedOnState())})},initRegistrationForm=()=>{setupModal();const e=document.querySelector("#registration-form");e&&setupForm(e),initCountdown({targetDate:"May 10, 2025 19:30:00"})};document.addEventListener("DOMContentLoaded",initRegistrationForm);
